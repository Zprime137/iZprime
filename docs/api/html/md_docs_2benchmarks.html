<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iZ-Library: Benchmarks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">iZ-Library<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">iZ-Library for prime sieving and generation tasks.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_docs_2benchmarks.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Benchmarks </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md4"></a></p>
<p>This document captures benchmark methodology, current result snapshots, and plotting usage for the iZprime project.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
1. Run Benchmarks</h1>
<p>From repository root:</p>
<div class="fragment"><div class="line">make benchmark-p_sieve</div>
<div class="line">make benchmark-p_gen</div>
<div class="line">make benchmark-SiZ_count</div>
</div><!-- fragment --><p>Save results into <span class="tt">docs/test_results/</span>:</p>
<div class="fragment"><div class="line">make benchmark-p_sieve save-results</div>
<div class="line">make benchmark-p_gen save-results</div>
<div class="line">make benchmark-SiZ_count save-results</div>
</div><!-- fragment --><p>Save results and generate plot artifacts automatically:</p>
<div class="fragment"><div class="line">make benchmark-p_sieve plot</div>
<div class="line">make benchmark-p_gen plot</div>
</div><!-- fragment --><p>Notes:</p>
<ul>
<li><span class="tt">plot</span> implies <span class="tt">save-results</span>.</li>
<li>Dash-style flags also work with GNU make passthrough:</li>
</ul>
<div class="fragment"><div class="line">make -- benchmark-p_sieve --save-results --plot</div>
<div class="line">make -- benchmark-p_gen --save-results --plot</div>
<div class="line">make -- benchmark-SiZ_count --save-results</div>
</div><!-- fragment --><p>Note: plotting is currently wired for <span class="tt">p_sieve</span> and <span class="tt">p_gen</span> result formats.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
2. Result Files Used In This Snapshot</h1>
<p>Sieve benchmark snapshot:</p>
<ul>
<li><span class="tt">docs/test_results/psieve_10093442.txt</span></li>
</ul>
<p>Prime generation benchmark snapshots:</p>
<ul>
<li><span class="tt">docs/test_results/p_gen_12094122.txt</span> (1024-bit)</li>
<li><span class="tt">docs/test_results/p_gen_12094126.txt</span> (2048-bit)</li>
<li><span class="tt">docs/test_results/p_gen_12094224.txt</span> (4096-bit)</li>
</ul>
<p>SiZ_count benchmark snapshot:</p>
<ul>
<li><span class="tt">docs/test_results/SiZ_count_19205134.txt</span></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
3. Sieve Benchmark Table and Plot</h1>
<p>Times are in microseconds (<span class="tt">us</span>) from <span class="tt">docs/test_results/psieve_10093442.txt</span>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Algorithm  </th><th class="markdownTableHeadRight">10^4  </th><th class="markdownTableHeadRight">10^5  </th><th class="markdownTableHeadRight">10^6  </th><th class="markdownTableHeadRight">10^7  </th><th class="markdownTableHeadRight">10^8  </th><th class="markdownTableHeadRight">10^9  </th><th class="markdownTableHeadRight">10^10  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SoE  </td><td class="markdownTableBodyRight">14  </td><td class="markdownTableBodyRight">130  </td><td class="markdownTableBodyRight">1136  </td><td class="markdownTableBodyRight">28874  </td><td class="markdownTableBodyRight">136817  </td><td class="markdownTableBodyRight">2510303  </td><td class="markdownTableBodyRight">29944939  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SSoE  </td><td class="markdownTableBodyRight">21  </td><td class="markdownTableBodyRight">230  </td><td class="markdownTableBodyRight">1826  </td><td class="markdownTableBodyRight">16351  </td><td class="markdownTableBodyRight">148737  </td><td class="markdownTableBodyRight">1393887  </td><td class="markdownTableBodyRight">13312626  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SoEu  </td><td class="markdownTableBodyRight">18  </td><td class="markdownTableBodyRight">198  </td><td class="markdownTableBodyRight">1567  </td><td class="markdownTableBodyRight">14153  </td><td class="markdownTableBodyRight">139020  </td><td class="markdownTableBodyRight">1793877  </td><td class="markdownTableBodyRight">18707288  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SoS  </td><td class="markdownTableBodyRight">14  </td><td class="markdownTableBodyRight">159  </td><td class="markdownTableBodyRight">1395  </td><td class="markdownTableBodyRight">14393  </td><td class="markdownTableBodyRight">142700  </td><td class="markdownTableBodyRight">2414564  </td><td class="markdownTableBodyRight">28599960  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SoA  </td><td class="markdownTableBodyRight">24  </td><td class="markdownTableBodyRight">197  </td><td class="markdownTableBodyRight">1645  </td><td class="markdownTableBodyRight">14909  </td><td class="markdownTableBodyRight">145648  </td><td class="markdownTableBodyRight">3600075  </td><td class="markdownTableBodyRight">46331079  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SiZ  </td><td class="markdownTableBodyRight">9  </td><td class="markdownTableBodyRight">119  </td><td class="markdownTableBodyRight">912  </td><td class="markdownTableBodyRight">8924  </td><td class="markdownTableBodyRight">87100  </td><td class="markdownTableBodyRight">1436860  </td><td class="markdownTableBodyRight">18074650  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SiZm  </td><td class="markdownTableBodyRight">12  </td><td class="markdownTableBodyRight">139  </td><td class="markdownTableBodyRight">931  </td><td class="markdownTableBodyRight">8825  </td><td class="markdownTableBodyRight">73872  </td><td class="markdownTableBodyRight">709836  </td><td class="markdownTableBodyRight">6917661  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SiZm_vy  </td><td class="markdownTableBodyRight">25  </td><td class="markdownTableBodyRight">178  </td><td class="markdownTableBodyRight">1061  </td><td class="markdownTableBodyRight">7997  </td><td class="markdownTableBodyRight">68305  </td><td class="markdownTableBodyRight">684938  </td><td class="markdownTableBodyRight">6385593  </td></tr>
</table>
<p><img src="../docs/test_results/psieve_10093442.svg" alt="Sieve Benchmark Plot" style="pointer-events: none;" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
4. Prime Generation Benchmark Table</h1>
<p>Average times are in seconds for each bit size from the corresponding <span class="tt">./test_results/p_gen_*.txt</span> files.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Algorithm  </th><th class="markdownTableHeadRight">1024  </th><th class="markdownTableHeadRight">2048  </th><th class="markdownTableHeadRight">4096  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vy_random_prime  </td><td class="markdownTableBodyRight">0.021182  </td><td class="markdownTableBodyRight">0.063515  </td><td class="markdownTableBodyRight">3.181408  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">vx_random_prime  </td><td class="markdownTableBodyRight">0.008107  </td><td class="markdownTableBodyRight">0.082872  </td><td class="markdownTableBodyRight">1.220519  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">iZ_random_next_prime  </td><td class="markdownTableBodyRight">0.023231  </td><td class="markdownTableBodyRight">0.150618  </td><td class="markdownTableBodyRight">0.578747  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">gmp_random_next_prime  </td><td class="markdownTableBodyRight">0.009421  </td><td class="markdownTableBodyRight">0.071797  </td><td class="markdownTableBodyRight">1.666787  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BN_generate_prime_ex  </td><td class="markdownTableBodyRight">0.026731  </td><td class="markdownTableBodyRight">0.422709  </td><td class="markdownTableBodyRight">4.959384  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
5. Plot Artifacts</h1>
<p>Current plot files:</p>
<ul>
<li><span class="tt">./test_results/p_gen_12094122_avg.svg</span></li>
<li><span class="tt">./test_results/p_gen_12094126_avg.svg</span></li>
<li><span class="tt">./test_results/p_gen_12094224_avg.svg</span></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Prime generation plots</h2>
<p><img src="../docs/test_results/p_gen_12094122_avg.svg" alt="Prime Generation 1024-bit" style="pointer-events: none;" class="inline"/></p>
<p><img src="../docs/test_results/p_gen_12094126_avg.svg" alt="Prime Generation 2048-bit" style="pointer-events: none;" class="inline"/></p>
<p><img src="../docs/test_results/p_gen_12094224_avg.svg" alt="Prime Generation 4096-bit" style="pointer-events: none;" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
6. SiZ_count Benchmark Table</h1>
<p>Times are in seconds from <span class="tt">docs/test_results/SiZ_count_19205134.txt</span>.</p>
<p>Window size: <span class="tt">10^9</span> integers for each starting point.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight">Start Point  </th><th class="markdownTableHeadRight">Prime Count  </th><th class="markdownTableHeadRight">Time (s)  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight"><span class="tt">10^10</span>  </td><td class="markdownTableBodyRight">43336106  </td><td class="markdownTableBodyRight">0.157103  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight"><span class="tt">10^20</span>  </td><td class="markdownTableBodyRight">21710426  </td><td class="markdownTableBodyRight">45.271972  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight"><span class="tt">10^30</span>  </td><td class="markdownTableBodyRight">14473890  </td><td class="markdownTableBodyRight">50.446129  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight"><span class="tt">10^40</span>  </td><td class="markdownTableBodyRight">10860250  </td><td class="markdownTableBodyRight">75.721432  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight"><span class="tt">10^50</span>  </td><td class="markdownTableBodyRight">8684378  </td><td class="markdownTableBodyRight">83.009872  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight"><span class="tt">10^60</span>  </td><td class="markdownTableBodyRight">7237481  </td><td class="markdownTableBodyRight">107.691231  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight"><span class="tt">10^70</span>  </td><td class="markdownTableBodyRight">6205976  </td><td class="markdownTableBodyRight">119.342140  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight"><span class="tt">10^80</span>  </td><td class="markdownTableBodyRight">5428021  </td><td class="markdownTableBodyRight">167.147788  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight"><span class="tt">10^90</span>  </td><td class="markdownTableBodyRight">4825182  </td><td class="markdownTableBodyRight">178.556225  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight"><span class="tt">10^100</span>  </td><td class="markdownTableBodyRight">4342289  </td><td class="markdownTableBodyRight">218.545428  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
7. Plot From Terminal (Interactive Prompt)</h1>
<p>You can generate/view plots directly from terminal. If no filepath is passed, scripts prompt for one:</p>
<div class="fragment"><div class="line">python3 py_tools/plot_results.py</div>
<div class="line">python3 py_tools/plot_p_sieve_results.py</div>
<div class="line">python3 py_tools/plot_p_gen_results.py</div>
</div><!-- fragment --><p>Or pass a file explicitly:</p>
<div class="fragment"><div class="line">python3 py_tools/plot_results.py output/psieve_10093442.txt --save</div>
<div class="line">python3 py_tools/plot_results.py output/p_gen_12094224.txt --avg --save</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
